<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create New Project</title>
  <link rel="stylesheet" href="/static/style.css">
  <script>
    function addUser() {
      const container = document.getElementById("users");
      const index = container.children.length;
      const div = document.createElement("div");
      div.className = "form-section";
      div.innerHTML = `
        <div class="form-group">
          <label for="users[${index}][name]">Name</label>
          <input name="users[${index}][name]" required>
        </div>
        <div class="form-group">
          <label for="users[${index}][email]">Email</label>
          <input type="email" name="users[${index}][email]" required>
        </div>
        <div class="form-group">
          <label for="users[${index}][role]">Role</label>
          <select name="users[${index}][role]" required>
            <option value="uploader">Uploader</option>
            <option value="viewer">Viewer</option>
            <option value="analyst">Analyst</option>
          </select>
        </div>
      `;
      container.appendChild(div);
    }
  </script>
</head>
<body>
  <div class="form-container">
    <h2 class="section-title">ðŸ“¦ New Project Setup</h2>
    <form method="POST" action="{{ url_for('config_bp.setup') }}">  
      <div class="form-group">
        <label for="organization_name">Organization Name</label>
        <input name="organization_name" id="organization_name" required>
      </div>

      <div class="form-group">
        <label for="project_name">Project Name</label>
        <input name="project_name" id="project_name" required>
      </div>

      <h3 class="section-title">ðŸ‘¤ Add Users</h3>
      <div id="users"></div>
      <div class="button-group">
        <button type="button" onclick="addUser()">âž• Add User</button>
      </div>

      <div class="button-group">
        <button type="submit">ðŸš€ Create Project</button>
      </div>
    </form>
  </div>
</body>
</html>

